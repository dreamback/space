<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="full-screen" content="yes">
    <meta name="browsermode" content="application">
    <meta name="x5-orientation" content="portrait">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="app">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="ydui/dist/ydui.px.css">
</head>

<body class="white">
    <div id="appCtrl" v-locak>
        <yd-navbar title="注册">
            <a href="#" slot="left">
                <yd-navbar-back-icon></yd-navbar-back-icon>
            </a>
        </yd-navbar>
        <div class="form-login">
        	<div class="login-logo"></div>
            <yd-cell-group>
                <yd-cell-item>
                	<i slot="icon" class="login-icon login-phone"></i>
                	<yd-input slot="right" v-model="mobile" type="tel" placeholder="请输入手机号码"></yd-input>
                </yd-cell-item>
                <yd-cell-item>
                    <i slot="icon" class="login-icon login-psw"></i>
                    <yd-input slot="right" v-model="code" placeholder="短信验证码"></yd-input>
                    <yd-sendcode slot="right" 
                         v-model="start" 
                         @click.native="sendCode" 
                         type="warning"
                    ></yd-sendcode>
                </yd-cell-item>
                <yd-cell-item>
                	<i slot="icon" class="login-icon login-psw"></i>
                    <yd-input slot="right" type="password" v-model="psw" :max="20" placeholder="设置6~20位之间的密码"></yd-input>
                </yd-cell-item>
            </yd-cell-group>
            <yd-button size="large" type="primary" @click.native="submit">立即注册</yd-button>
            <p style="text-align:center;padding-top: 20px;">
            	<span class="cGray">已有账号？</span>
            	<a class="cGold">立即登录</a>
            </p>
        </div>
    </div>
    <script src="js/vue.min.js"></script>
    <script src="ydui/dist/ydui.px.js"></script>
    <script>
    var vm = new Vue({
        el: '#appCtrl',

        data: function(){
        	return {
        		mobile:'',
        		psw:'',
                code:'',

                start: false
        	}
        },

        methods:{
        	submit: function(){
        		if(!this.mobile){
        			this.$dialog.toast({mes: '请输入手机号码、'});
        			return;
        		}
                if(!/^0?(13|15|18|14|16|17|19)[0-9]{9}$/.test(this.mobile)){
                    this.$dialog.toast({mes: '手机号码格式有误'});
                    return;
                }
        		if(!this.psw){
        			this.$dialog.toast({mes: '请输入登录密码'});
        			return;
        		}
        		if(this.psw.length<6||this.psw.length>20){
        			this.$dialog.toast({mes: '6~20位之间的密码'});
        			return;
        		}
        	},

            sendCode() {
                setTimeout(() => {//这里该ajax

                    vm.start = true;

                    vm.$dialog.toast({
                        mes: '已发送',
                        icon: 'success',
                        timeout: 1500
                    });

                }, 1000);
            }

        }
    })
    </script>
</body>

</html>